# Default values for my-blogs
# React SPAs served by nginx with runtime configuration

nameOverride: ''
fullnameOverride: ''

# Shared image credentials for pulling images
imageCredentials:
  registry: hub.docker.com
  username: doitsu2014
  password: __
  email: no-reply@dtech.com

# =====================================================
# Admin Side Configuration
# =====================================================
adminSide:
  enabled: true
  replicaCount: 1

  image:
    repository: doitsu2014/my-blogs-admin-side
    pullPolicy: Always
    tag: latest

  # Runtime application configuration
  # This generates config.js mounted at /usr/share/nginx/html/config.js
  appConfig:
    keycloakUrl: "https://your-keycloak-url"
    keycloakRealm: "your-realm"
    keycloakClientId: "your-client-id"
    keycloakScope: "my-headless-cms-api-all email openid profile"
    graphqlApiUrl: "https://your-api/graphql"
    graphqlCacheApiUrl: ""
    restApiUrl: "https://your-api"
    mediaUploadApiUrl: ""

  podAnnotations: {}
  serviceAnnotations: {}

  podSecurityContext: {}
  securityContext: {}

  service:
    type: ClusterIP
    port: 80
    ports:
      - port: 80
        targetPort: http
        protocol: TCP
        name: http

  container_ports:
    - name: http
      containerPort: 80
      protocol: TCP

  # Health check for nginx
  container_readinessProbe:
    httpGet:
      path: /health
      port: http
    initialDelaySeconds: 5
    periodSeconds: 10

  container_livenessProbe:
    httpGet:
      path: /health
      port: http
    initialDelaySeconds: 10
    periodSeconds: 20

  ingress:
    enabled: false
    className: ''
    annotations: {}
    hosts: []
    tls: []

  resources: {}

  autoscaling:
    enabled: false
    minReplicas: 1
    maxReplicas: 100
    targetCPUUtilizationPercentage: 80

  nodeSelector: {}
  tolerations: []
  affinity: {}

# =====================================================
# Client Side Configuration
# =====================================================
clientSide:
  enabled: false
  replicaCount: 1

  image:
    repository: doitsu2014/my-blogs-client-side
    pullPolicy: Always
    tag: latest

  # Runtime application configuration
  # This generates config.js mounted at /usr/share/nginx/html/config.js
  appConfig:
    graphqlApiUrl: "https://your-api/graphql"
    graphqlCacheApiUrl: ""
    restApiUrl: "https://your-api"

  podAnnotations: {}
  serviceAnnotations: {}

  podSecurityContext: {}
  securityContext: {}

  service:
    type: ClusterIP
    port: 80
    ports:
      - port: 80
        targetPort: http
        protocol: TCP
        name: http

  container_ports:
    - name: http
      containerPort: 80
      protocol: TCP

  # Health check for nginx
  container_readinessProbe:
    httpGet:
      path: /health
      port: http
    initialDelaySeconds: 5
    periodSeconds: 10

  container_livenessProbe:
    httpGet:
      path: /health
      port: http
    initialDelaySeconds: 10
    periodSeconds: 20

  ingress:
    enabled: false
    className: ''
    annotations: {}
    hosts: []
    tls: []

  resources: {}

  autoscaling:
    enabled: false
    minReplicas: 1
    maxReplicas: 100
    targetCPUUtilizationPercentage: 80

  nodeSelector: {}
  tolerations: []
  affinity: {}
